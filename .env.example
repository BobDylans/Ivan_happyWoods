# Voice Agent System - Environment Configuration Template
# Copy this file to .env and fill in your actual credentials
# DO NOT commit .env to Git!

# =============================================================================
# CORE LLM CONFIGURATION (OpenAI-Compatible API)
# =============================================================================

# LLM Service Configuration
VOICE_AGENT_LLM__API_KEY=your_openai_api_key_here
VOICE_AGENT_LLM__BASE_URL=https://api.openai.com/v1
VOICE_AGENT_LLM__PROVIDER=openai

# Model Selection Strategy
VOICE_AGENT_LLM__MODELS__DEFAULT=gpt-4
VOICE_AGENT_LLM__MODELS__FAST=gpt-3.5-turbo
VOICE_AGENT_LLM__MODELS__CREATIVE=gpt-4

# LLM Performance Tuning
VOICE_AGENT_LLM__TIMEOUT=30
VOICE_AGENT_LLM__MAX_TOKENS=2048
VOICE_AGENT_LLM__TEMPERATURE=0.7

# =============================================================================
# PHASE 2B: VOICE SERVICES (iFlytek 科大讯飞)
# =============================================================================

# iFlytek Voice Recognition & Synthesis Credentials
# Register at: https://www.xfyun.cn/
IFLYTEK_APPID=your_iflytek_appid_here
IFLYTEK_APIKEY=your_iflytek_apikey_here
IFLYTEK_APISECRET=your_iflytek_apisecret_here

# TTS Configuration (use same credentials as STT by default)
IFLYTEK_TTS_APPID=your_iflytek_appid_here
IFLYTEK_TTS_APIKEY=your_iflytek_apikey_here
IFLYTEK_TTS_APISECRET=your_iflytek_apisecret_here

# Voice Service Preferences
VOICE_AGENT_SPEECH__TTS__PROVIDER=iflytek
VOICE_AGENT_SPEECH__TTS__VOICE=x4_lingxiaoxuan_oral
VOICE_AGENT_SPEECH__TTS__SPEED=50
VOICE_AGENT_SPEECH__TTS__FORMAT=mp3

VOICE_AGENT_SPEECH__STT__PROVIDER=iflytek
VOICE_AGENT_SPEECH__STT__LANGUAGE=zh
VOICE_AGENT_SPEECH__STT__DOMAIN=iat
VOICE_AGENT_SPEECH__STT__ACCENT=mandarin
VOICE_AGENT_SPEECH__STT__BASE_URL=wss://iat.cn-huabei-1.xf-yun.com/v1

# =============================================================================
# API SERVER CONFIGURATION
# =============================================================================

VOICE_AGENT_API__HOST=0.0.0.0
VOICE_AGENT_API__PORT=8000
VOICE_AGENT_API__RELOAD=true
VOICE_AGENT_API__WORKERS=1

# =============================================================================
# AUTHENTICATION & SECURITY (Phase 2A)
# =============================================================================

# API Key Authentication
API_KEY_ENABLED=true
API_KEYS=dev-test-key-123,your-custom-key-here

# CORS Configuration
VOICE_AGENT_SECURITY__CORS_ORIGINS=http://localhost:3000,http://localhost:8080,http://127.0.0.1:3000
VOICE_AGENT_SECURITY__CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
VOICE_AGENT_SECURITY__RATE_LIMIT_PER_MINUTE=60

# =============================================================================
# SESSION MANAGEMENT
# =============================================================================

VOICE_AGENT_SESSION__STORAGE_TYPE=memory
VOICE_AGENT_SESSION__TIMEOUT_MINUTES=30
VOICE_AGENT_SESSION__MAX_HISTORY=50
VOICE_AGENT_SESSION__CLEANUP_INTERVAL=300

# For production with Redis:
# VOICE_AGENT_SESSION__STORAGE_TYPE=redis
# VOICE_AGENT_SESSION__REDIS_URL=redis://localhost:6379/0

# =============================================================================
# LOGGING & DEBUGGING
# =============================================================================

VOICE_AGENT_LOG_LEVEL=INFO
VOICE_AGENT_DEBUG=false
VOICE_AGENT_ENVIRONMENT=development

# Enable detailed logging (for troubleshooting):
# VOICE_AGENT_LOG_LEVEL=DEBUG
# VOICE_AGENT_DEBUG=true

# =============================================================================
# MCP TOOLS CONFIGURATION (Phase 2E - Tavily Search Integration)
# =============================================================================

VOICE_AGENT_TOOLS__ENABLED=search_tool,calculator,time_tool,code_executor

# Tool-specific timeouts
VOICE_AGENT_TOOLS__SEARCH_TOOL__TIMEOUT=10
VOICE_AGENT_TOOLS__CALCULATOR__TIMEOUT=5
VOICE_AGENT_TOOLS__TIME_TOOL__TIMEOUT=2
VOICE_AGENT_TOOLS__CODE_EXECUTOR__TIMEOUT=30

# =============================================================================
# TAVILY SEARCH API (Web Search Tool - Phase 2E)
# =============================================================================
# Register at: https://tavily.com/
# Free tier: 1000 searches/month

TAVILY_API_KEY=your_tavily_api_key_here

# Optional: Advanced Tavily Settings
# TAVILY_SEARCH_DEPTH=basic  # Options: basic, advanced
# TAVILY_MAX_RESULTS=5       # Number of search results (1-10)
# TAVILY_TIMEOUT=15          # Request timeout in seconds
# TAVILY_INCLUDE_DOMAINS=    # Comma-separated domains to prioritize
# TAVILY_EXCLUDE_DOMAINS=    # Comma-separated domains to exclude

# =============================================================================
# PERFORMANCE TUNING (Optional)
# =============================================================================

# Session Configuration
# VOICE_AGENT_SESSION__TIMEOUT_MINUTES=60

# Logging Configuration
# VOICE_AGENT_LOGGING__FORMAT=json
# VOICE_AGENT_LOGGING__FILE_PATH=logs/voice_agent.log
# VOICE_AGENT_LOGGING__MAX_FILE_SIZE=50MB
# VOICE_AGENT_LOGGING__BACKUP_COUNT=10

# =============================================================================
# TAVILY SEARCH API (Web Search Tool)
# =============================================================================

# Tavily API Configuration
# Register at: https://tavily.com/
TAVILY_API_KEY=your_tavily_api_key_here

# Optional Tavily settings
# TAVILY_SEARCH_DEPTH=basic
# TAVILY_MAX_RESULTS=5
# TAVILY_TIMEOUT=15

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Auto-reload on code changes (development only)
VOICE_AGENT_API__RELOAD=true

# Testing flags
# VOICE_AGENT_TESTING__MOCK_EXTERNAL_SERVICES=false
