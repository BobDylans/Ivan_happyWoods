# ============================================================================# Voice Agent System - Environment Configuration Template

# Ivan_HappyWoods - 环境配置文件示例# Copy this file to .env and fill in your actual credentials

# ============================================================================# DO NOT commit .env to Git!

# 使用说明：

# 1. 复制此文件为 .env: cp .env.example .env# =============================================================================

# 2. 根据实际情况修改配置值# CORE LLM CONFIGURATION (OpenAI-Compatible API)

# 3. 不要提交 .env 到 Git（已在 .gitignore 中）# =============================================================================

# ============================================================================

# LLM Service Configuration

# ============ 环境设置 ============VOICE_AGENT_LLM__API_KEY=your_openai_api_key_here

VOICE_AGENT_ENVIRONMENT=developmentVOICE_AGENT_LLM__BASE_URL=https://api.openai.com/v1

VOICE_AGENT_VERSION=1.0.0VOICE_AGENT_LLM__PROVIDER=openai

VOICE_AGENT_DEBUG=false

# Model Selection Strategy

# ============ API 服务配置 ============VOICE_AGENT_LLM__MODELS__DEFAULT=gpt-4

VOICE_AGENT_API__HOST=0.0.0.0VOICE_AGENT_LLM__MODELS__FAST=gpt-3.5-turbo

VOICE_AGENT_API__PORT=8000VOICE_AGENT_LLM__MODELS__CREATIVE=gpt-4

VOICE_AGENT_API__RELOAD=true

VOICE_AGENT_API__WORKERS=1# LLM Performance Tuning

VOICE_AGENT_LLM__TIMEOUT=30

# ============ LLM 提供商配置 ============VOICE_AGENT_LLM__MAX_TOKENS=2048

# 当前提供商选择: openai | ollama | anthropic | azure | customVOICE_AGENT_LLM__TEMPERATURE=0.7

VOICE_AGENT_LLM__PROVIDER=ollama

# =============================================================================

# ------------ Ollama 本地模型配置（推荐用于开发）------------# PHASE 2B: VOICE SERVICES (iFlytek 科大讯飞)

VOICE_AGENT_LLM__BASE_URL=http://localhost:11434# =============================================================================

VOICE_AGENT_LLM__API_KEY=ollama

VOICE_AGENT_LLM__MODELS__DEFAULT=qwen3:4b# iFlytek Voice Recognition & Synthesis Credentials

VOICE_AGENT_LLM__MODELS__FAST=qwen3:4b# Register at: https://www.xfyun.cn/

VOICE_AGENT_LLM__MODELS__CREATIVE=deepseek-r1:7bIFLYTEK_APPID=your_iflytek_appid_here

IFLYTEK_APIKEY=your_iflytek_apikey_here

# ------------ OpenAI API 配置（取消注释以使用）------------IFLYTEK_APISECRET=your_iflytek_apisecret_here

# VOICE_AGENT_LLM__PROVIDER=openai

# VOICE_AGENT_LLM__BASE_URL=https://api.openai.com/v1# TTS Configuration (use same credentials as STT by default)

# VOICE_AGENT_LLM__API_KEY=sk-xxxxxxxxxxxxxxxxIFLYTEK_TTS_APPID=your_iflytek_appid_here

# VOICE_AGENT_LLM__MODELS__DEFAULT=gpt-4IFLYTEK_TTS_APIKEY=your_iflytek_apikey_here

# VOICE_AGENT_LLM__MODELS__FAST=gpt-3.5-turboIFLYTEK_TTS_APISECRET=your_iflytek_apisecret_here

# VOICE_AGENT_LLM__MODELS__CREATIVE=gpt-4

# Voice Service Preferences

# ------------ 自定义 OpenAI 代理（取消注释以使用）------------VOICE_AGENT_SPEECH__TTS__PROVIDER=iflytek

# VOICE_AGENT_LLM__PROVIDER=customVOICE_AGENT_SPEECH__TTS__VOICE=x4_lingxiaoxuan_oral

# VOICE_AGENT_LLM__BASE_URL=https://api.openai-proxy.org/v1VOICE_AGENT_SPEECH__TTS__SPEED=50

# VOICE_AGENT_LLM__API_KEY=sk-xxxxxxxxxxxxxxxxVOICE_AGENT_SPEECH__TTS__FORMAT=mp3

# VOICE_AGENT_LLM__MODELS__DEFAULT=gpt-5-mini

# VOICE_AGENT_LLM__MODELS__FAST=gpt-5-nanoVOICE_AGENT_SPEECH__STT__PROVIDER=iflytek

# VOICE_AGENT_LLM__MODELS__CREATIVE=gpt-5-miniVOICE_AGENT_SPEECH__STT__LANGUAGE=zh

VOICE_AGENT_SPEECH__STT__DOMAIN=iat

# LLM 通用参数VOICE_AGENT_SPEECH__STT__ACCENT=mandarin

VOICE_AGENT_LLM__TIMEOUT=60VOICE_AGENT_SPEECH__STT__BASE_URL=wss://iat.cn-huabei-1.xf-yun.com/v1

VOICE_AGENT_LLM__MAX_TOKENS=2048

VOICE_AGENT_LLM__TEMPERATURE=0.7# =============================================================================

# API SERVER CONFIGURATION

# ============ 网络代理设置（Ollama 必须禁用！）============# =============================================================================

# 如果使用 Ollama，必须清空这些值，否则 localhost 请求会被代理拦截

HTTP_PROXY=VOICE_AGENT_API__HOST=0.0.0.0

HTTPS_PROXY=VOICE_AGENT_API__PORT=8000

NO_PROXY=localhost,127.0.0.1,::1VOICE_AGENT_API__RELOAD=true

VOICE_AGENT_API__WORKERS=1

# ============ 语音服务配置（科大讯飞 iFlytek）============

# 在 https://www.xfyun.cn/ 注册获取凭证# =============================================================================

IFLYTEK_APPID=your_appid_here# AUTHENTICATION & SECURITY (Phase 2A)

IFLYTEK_APIKEY=your_apikey_here# =============================================================================

IFLYTEK_APISECRET=your_apisecret_here

# API Key Authentication

# TTS 配置（语音合成）API_KEY_ENABLED=true

VOICE_AGENT_SPEECH__TTS__PROVIDER=iflytekAPI_KEYS=dev-test-key-123,your-custom-key-here

VOICE_AGENT_SPEECH__TTS__VOICE=x4_lingxiaoxuan_oral

VOICE_AGENT_SPEECH__TTS__SPEED=50# CORS Configuration

VOICE_AGENT_SPEECH__TTS__FORMAT=mp3VOICE_AGENT_SECURITY__CORS_ORIGINS=http://localhost:3000,http://localhost:8080,http://127.0.0.1:3000

VOICE_AGENT_SPEECH__TTS__VOLUME=50VOICE_AGENT_SECURITY__CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS

VOICE_AGENT_SPEECH__TTS__PITCH=50VOICE_AGENT_SECURITY__RATE_LIMIT_PER_MINUTE=60



# STT 配置（语音识别）# =============================================================================

VOICE_AGENT_SPEECH__STT__PROVIDER=iflytek# SESSION MANAGEMENT

VOICE_AGENT_SPEECH__STT__LANGUAGE=mul_cn# =============================================================================

VOICE_AGENT_SPEECH__STT__MODEL=whisper-1

VOICE_AGENT_SPEECH__STT__DOMAIN=slmVOICE_AGENT_SESSION__STORAGE_TYPE=memory

VOICE_AGENT_SPEECH__STT__ACCENT=mandarinVOICE_AGENT_SESSION__TIMEOUT_MINUTES=30

VOICE_AGENT_SESSION__MAX_HISTORY=50

# ============ MCP 工具配置 ============VOICE_AGENT_SESSION__CLEANUP_INTERVAL=300

# 启用的工具列表（逗号分隔）

VOICE_AGENT_TOOLS__ENABLED=search_tool,calculator,time_tool# For production with Redis:

# VOICE_AGENT_SESSION__STORAGE_TYPE=redis

# Tavily 搜索工具# VOICE_AGENT_SESSION__REDIS_URL=redis://localhost:6379/0

VOICE_AGENT_TOOLS__SEARCH_TOOL__ENABLED=true

VOICE_AGENT_TOOLS__SEARCH_TOOL__API_KEY=tvly-xxxxxxxxxxxxxxxx# =============================================================================

VOICE_AGENT_TOOLS__SEARCH_TOOL__TIMEOUT=10# LOGGING & DEBUGGING

VOICE_AGENT_TOOLS__SEARCH_TOOL__MAX_RETRIES=3# =============================================================================



# 计算器工具VOICE_AGENT_LOG_LEVEL=INFO

VOICE_AGENT_TOOLS__CALCULATOR__ENABLED=trueVOICE_AGENT_DEBUG=false

VOICE_AGENT_TOOLS__CALCULATOR__TIMEOUT=5VOICE_AGENT_ENVIRONMENT=development



# 时间工具# Enable detailed logging (for troubleshooting):

VOICE_AGENT_TOOLS__TIME_TOOL__ENABLED=true# VOICE_AGENT_LOG_LEVEL=DEBUG

# VOICE_AGENT_DEBUG=true

# Tavily API Key（独立配置，方便访问）

TAVILY_API_KEY=tvly-xxxxxxxxxxxxxxxx# =============================================================================

# MCP TOOLS CONFIGURATION (Phase 2D)

# ============ 数据库配置（PostgreSQL）============# =============================================================================

VOICE_AGENT_DATABASE__ENABLED=false

VOICE_AGENT_DATABASE__TYPE=postgresqlVOICE_AGENT_TOOLS__ENABLED=search_tool,calculator,time_tool,code_executor

VOICE_AGENT_DATABASE__HOST=localhost

VOICE_AGENT_DATABASE__PORT=5432# Tool-specific timeouts

VOICE_AGENT_DATABASE__DATABASE=voice_agentVOICE_AGENT_TOOLS__SEARCH_TOOL__TIMEOUT=10

VOICE_AGENT_DATABASE__USER=agent_userVOICE_AGENT_TOOLS__CALCULATOR__TIMEOUT=5

VOICE_AGENT_DATABASE__PASSWORD=changeme123456VOICE_AGENT_TOOLS__TIME_TOOL__TIMEOUT=2

VOICE_AGENT_TOOLS__CODE_EXECUTOR__TIMEOUT=30

# 数据库连接池设置

VOICE_AGENT_DATABASE__POOL_SIZE=10# =============================================================================

VOICE_AGENT_DATABASE__MAX_OVERFLOW=20# PERFORMANCE TUNING (Optional)

# =============================================================================

# ============ 会话管理配置 ============

VOICE_AGENT_SESSION__STORAGE_TYPE=memory# Session Configuration

VOICE_AGENT_SESSION__TIMEOUT_MINUTES=30# VOICE_AGENT_SESSION__TIMEOUT_MINUTES=60

VOICE_AGENT_SESSION__MAX_HISTORY=50

VOICE_AGENT_SESSION__CLEANUP_INTERVAL=300# Logging Configuration

# VOICE_AGENT_LOGGING__FORMAT=json

# Redis 会话存储（如果使用）# VOICE_AGENT_LOGGING__FILE_PATH=logs/voice_agent.log

# VOICE_AGENT_SESSION__STORAGE_TYPE=redis# VOICE_AGENT_LOGGING__MAX_FILE_SIZE=50MB

# VOICE_AGENT_SESSION__REDIS_URL=redis://localhost:6379/0# VOICE_AGENT_LOGGING__BACKUP_COUNT=10



# ============ 日志配置 ============# =============================================================================

VOICE_AGENT_LOG_LEVEL=INFO# DEVELOPMENT SETTINGS

VOICE_AGENT_LOGGING__LEVEL=INFO# =============================================================================

VOICE_AGENT_LOGGING__FORMAT=detailed

VOICE_AGENT_LOGGING__FILE_PATH=logs/voice_agent.log# Auto-reload on code changes (development only)

VOICE_AGENT_LOGGING__MAX_FILE_SIZE=10MBVOICE_AGENT_API__RELOAD=true

VOICE_AGENT_LOGGING__BACKUP_COUNT=5

# Testing flags

# ============ 安全配置 ============# VOICE_AGENT_TESTING__MOCK_EXTERNAL_SERVICES=false

# API Key 认证
VOICE_AGENT_SECURITY__API_KEYS=dev-test-key-123,admin-key-456
API_KEYS=dev-test-key-123

# CORS 设置
VOICE_AGENT_SECURITY__CORS_ORIGINS=http://localhost:3000,http://localhost:8080,http://127.0.0.1:3000
VOICE_AGENT_SECURITY__CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
VOICE_AGENT_SECURITY__RATE_LIMIT_PER_MINUTE=60

# JWT 配置（如果使用）
JWT_SECRET_KEY=your-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# ============ Docker Compose 变量（可选）============
POSTGRES_PASSWORD=changeme123456
POSTGRES_USER=agent_user
POSTGRES_DB=voice_agent
